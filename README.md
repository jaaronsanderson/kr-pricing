# KR Pricing

A full-stack pricing tool for KR:

- **Backend:** FastAPI (Python) under `backend/`
- **Frontend:** React + TypeScript + Vite under `frontend/`
- **Config:** JSON-based pricing rules that are easy to inspect and edit
- **Use case:** Quote stock, custom, and ad-hoc sheet orders with weight-based pricing, column multipliers, and optional freight.

---

## 1. Project Structure

```text
kr-pricing/
  backend/
    main.py                  # FastAPI app
    pricing/
      core.py                # Pricing engine
      models.py              # Pydantic models (request/response)
      settings_loader.py     # Loads config + data
      quote_log.py           # Quote history logging
    config/
      customers.json         # Customers and column ranges, freight offsets
      items.json             # Stock items and base columns
      column_multipliers.json# Column → multiplier mapping
      weight_breaks.json     # Weight → column adjustments
    data/
      base_costs.json        # Material → base $/lb + upcharges
      quotes.json            # Logged quote history
    requirements.in          # Top-level backend deps (human-edited)
    requirements.txt         # Locked backend deps (generated by pip-compile)
    .venv/                   # Python virtualenv (local, not for Git)

  frontend/
    src/
      App.tsx                # Main UI (lines, quote preview, history)
      types.ts               # Shared type definitions (LineItemRequest, etc.)
    package.json             # Frontend dependencies
    vite.config.ts           # Vite config
    node_modules/            # Installed frontend deps (local, not for Git)

